# 加密货币交易学习笔记

## 1. 基础概念

### 1.1 K线图基础
- **K线构成**
  - 开盘价(Open)：时间段内第一笔交易价格
  - 收盘价(Close)：时间段内最后一笔交易价格
  - 最高价(High)：时间段内的最高交易价格
  - 最低价(Low)：时间段内的最低交易价格
  - 成交量(Volume)：时间段内的交易数量
  - 成交额(Quote Volume)：时间段内的交易金额

- **K线形态**
  - 阳线：收盘价高于开盘价，通常显示为绿色
  - 阴线：收盘价低于开盘价，通常显示为红色
  - 上影线：最高价到实体顶部的线段
  - 下影线：最低价到实体底部的线段

### 1.2 期货交易基础
- **合约类型**
  - 永续合约：无到期日，可长期持有
  - 交割合约：有固定到期日，需要交割
  - U本位合约：以USDT计价和结算
  - 币本位合约：以BTC等加密货币结算

- **持仓方向**
  - 多头(Long)：预期价格上涨，买入开仓
  - 空头(Short)：预期价格下跌，卖出开仓
  - 双向持仓：同时持有多空仓位，对冲风险

### 1.3 杠杆交易
- **杠杆概念**
  - 初始保证金：开仓时需要的资金
  - 维持保证金：维持仓位所需的最低资金
  - 杠杆倍数：合约价值与保证金的比率
  - 强平价格：触发强制平仓的价格

- **风险控制**
  - 风险率 = 维持保证金 / 当前保证金
  - 强平线 = 维持保证金率 * 持仓价值
  - ADL(自动减仓)：根据盈利情况自动减仓

## 2. 交易机制

### 2.1 订单类型
- **基础订单**
  - 市价单：以当前市场最优价格立即成交
  - 限价单：指定价格，等待成交
  - 止损单：价格达到触发价时市价委托
  - 止盈单：达到目标价格时自动平仓

- **高级订单**
  - IOC：立即成交剩余撤销
  - FOK：完全成交或撤销
  - POST_ONLY：只做挂单，不吃单

### 2.2 永续合约特性
- **资金费率**
  - 定义：多空双方定期交换的费用
  - 计算周期：通常每8小时结算一次
  - 公式：资金费率 * 持仓价值
  - 作用：使期货价格贴近现货价格

- **标记价格**
  - 定义：用于计算盈亏和强平的价格
  - 计算：多个交易所的加权平均价
  - 作用：防止单一交易所价格操纵

### 2.3 保证金机制
- **全仓模式**
  - 所有仓位共享保证金
  - 更高的杠杆率
  - 更高的爆仓风险

- **逐仓模式**
  - 每个仓位独立保证金
  - 风险相对可控
  - 资金利用率较低

## 3. 风险管理

### 3.1 仓位管理
- **资金管理**
  - 单笔风险控制：不超过总资金的1-2%
  - 总体风险控制：总仓位不超过50%
  - 预留缓冲资金：应对行情波动

- **分批操作**
  - 分批建仓：降低平均成本
  - 分批平仓：锁定部分利润
  - 金字塔加仓：顺势加仓

### 3.2 止损策略
- **固定止损**
  - 设置固定止损价格
  - 基于支撑位/阻力位
  - 基于风险承受能力

- **追踪止损**
  - 随着盈利动态调整止损
  - 保护已有利润
  - 让利润奔跑

### 3.3 情绪控制
- **交易纪律**
  - 严格执行交易计划
  - 不追涨杀跌
  - 不过度交易

- **心态管理**
  - 接受亏损是常态
  - 控制贪婪和恐惧
  - 保持理性判断

## 4. 技术要点

### 4.1 API使用
- **REST API**
  - 限频规则
  - 签名验证
  - 错误处理

- **WebSocket**
  - 心跳维护
  - 断线重连
  - 数据处理

### 4.2 数据处理
- **实时数据**
  - 价格推送
  - 深度更新
  - 订单更新

- **历史数据**
  - K线数据
  - 成交记录
  - 资金费率